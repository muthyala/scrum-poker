/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
alter table Project drop constraint FK50C8E2F911920246
alter table Project drop constraint FK50C8E2F9E0849C80
alter table Project_UserStory drop constraint FKE14F1E047B5E7974
alter table Project_UserStory drop constraint FKE14F1E0422D5D656
alter table Team_User drop constraint FK6CEAE86DE66C75B2
alter table Team_User drop constraint FK6CEAE86DE0849C80
drop table Project if exists
drop table Project_UserStory if exists
drop table Team if exists
drop table Team_User if exists
drop table User if exists
drop table UserStory if exists
create table Project (id bigint generated by default as identity (start with 1), name varchar(255), moderator_id bigint, team_id bigint, primary key (id))
create table Project_UserStory (Project_id bigint not null, userStories_id bigint not null, unique (userStories_id))
create table Team (id bigint generated by default as identity (start with 1), primary key (id))
create table Team_User (Team_id bigint not null, members_id bigint not null, unique (members_id))
create table User (id bigint generated by default as identity (start with 1), primary key (id))
create table UserStory (id bigint generated by default as identity (start with 1), text varchar(255), primary key (id))
alter table Project add constraint FK50C8E2F911920246 foreign key (moderator_id) references User
alter table Project add constraint FK50C8E2F9E0849C80 foreign key (team_id) references Team
alter table Project_UserStory add constraint FKE14F1E047B5E7974 foreign key (Project_id) references Project
alter table Project_UserStory add constraint FKE14F1E0422D5D656 foreign key (userStories_id) references UserStory
alter table Team_User add constraint FK6CEAE86DE66C75B2 foreign key (members_id) references User
alter table Team_User add constraint FK6CEAE86DE0849C80 foreign key (Team_id) references Team
INSERT INTO USER VALUES(1)
INSERT INTO TEAM VALUES(1)
INSERT INTO USER VALUES(2)
INSERT INTO USER VALUES(3)
INSERT INTO USER VALUES(4)
INSERT INTO PROJECT VALUES(1,'example',1,1)
INSERT INTO TEAM_USER VALUES(1,2)
INSERT INTO TEAM_USER VALUES(1,3)
INSERT INTO TEAM_USER VALUES(1,4)
COMMIT
INSERT INTO PROJECT VALUES(2,'example',1,1)
INSERT INTO USERSTORY VALUES(1,'')
INSERT INTO PROJECT_USERSTORY VALUES(2,1)
COMMIT
DISCONNECT
